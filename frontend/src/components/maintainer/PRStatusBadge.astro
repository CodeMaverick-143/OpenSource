---
/**
 * PR status badge component for maintainer dashboard.
 */
import type { PRStatus } from "../../lib/types";

interface Props {
    status: PRStatus;
    size?: "sm" | "md";
}

const { status, size = "md" } = Astro.props;

const statusConfig: Record<PRStatus, { label: string; color: string }> = {
    OPEN: {
        label: "Open",
        color: "bg-green-100 text-green-800 border-green-200",
    },
    UNDER_REVIEW: {
        label: "Under Review",
        color: "bg-yellow-100 text-yellow-800 border-yellow-200",
    },
    CHANGES_REQUESTED: {
        label: "Changes Requested",
        color: "bg-orange-100 text-orange-800 border-orange-200",
    },
    APPROVED: {
        label: "Approved",
        color: "bg-blue-100 text-blue-800 border-blue-200",
    },
    MERGED: {
        label: "Merged",
        color: "bg-purple-100 text-purple-800 border-purple-200",
    },
    CLOSED: {
        label: "Closed",
        color: "bg-gray-100 text-gray-800 border-gray-200",
    },
};

const config = statusConfig[status];
const sizeClass = size === "sm" ? "px-2 py-0.5 text-xs" : "px-3 py-1 text-sm";
---

<span
    class={`inline-flex items-center font-medium rounded-full border ${config.color} ${sizeClass}`}
>
    {config.label}
</span>
